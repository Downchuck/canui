<!DOCTYPE html>

<!-- $Id$ -->
<html>
<head>
  <title>canui: example</title>
  <script type="text/javascript" src="../libs/jquery-1.5.1.min.js"></script>
  <script type="text/javascript" src="../libs/jquery.mousewheel.min.js"></script>
  <script type="text/javascript" src="../libs/namespace.js"></script>
  <script type="text/javascript" src="../src/geo.js"></script>
  <script type="text/javascript" src="../src/graphics.js"></script>
  <script type="text/javascript" src="../src/utility.js"></script>
  <script type="text/javascript" src="../src/control.js"></script>
  <script type="text/javascript" src="../src/container.js"></script>
  <script type="text/javascript" src="../src/root_panel.js"></script>
  <script type="text/javascript" src="../src/button.js"></script>
  <script type="text/javascript" src="../src/list.js"></script>
  <script type="text/javascript" src="../src/label.js"></script>
  <script type="text/javascript" src="../src/textbox.js"></script>
  <script type="text/javascript" src="../src/controls.js"></script>
  <script type="text/javascript" src="../src/slider.js"></script>
  <script type="text/javascript" src="../src/scroller.js"></script>
  <script type="text/javascript" src="../src/menu.js"></script>
  <script type="text/javascript" src="../src/combobox.js"></script>
  <script type="text/javascript" src="../src/image.js"></script>
  <script type="text/javascript" src="../src/html.js"></script>
  <script type="text/javascript" src="../src/layout.js"></script>
</head>

<script type="text/javascript">
var g_rp = undefined;

function dump()
{
  var w = window.open("");   
  w.document.write("<html><head></head><body><pre>");
  w.document.write(g_rp.dump());
  w.document.write("</pre></body></html>");
}

function test()
{
  alert("hello");
}

function slider_changed(v)
{
  assert(g_rp != undefined);
  g_rp.find_id("slider-value").caption(
    "slider value: " + to_int(v));
}

$(function()
{
  set_image_dir("../src/images");
  
  var r = document.getElementById("ui");
  g_rp = ui.create_root_panel(r);
  
  g_rp.find_id("tooltip-label").tooltip(new ui.tooltip({caption: "this is a tooltip"}));
  
  g_rp.find_id("captioned-panel").borders({all: 1});
  g_rp.find_id("captioned-panel").layout().option("margin", 4);

  g_rp.find_id("image").image(
    load_external_image("example.png", "alt: this is an image"));
  g_rp.find_id("slider").value(40);


  var list = g_rp.find_id("list");
  
  list.add_column("column 1");
  list.add_column("column 2");

  // avoids resizing the column for each item
  list.frozen(true);
  
  // adding a bunch of items
  for (var i=1; i<=230; ++i)
    list.add_item(["item " + i, "col " + i]);
    
  // resize the columns
  list.frozen(false);
});
</script>

<body>
<h2>canui</h2>
<p><a href="../index.html">home</a><br>
<a href="https://sourceforge.net/projects/canui/">sourceforge project page</a></p>

<p>This is a &lt;canvas&gt; element on which several controls are
created.

<div id="ui">
  <div data-type="root_panel" data-layout="new ui.border_layout()" width="400" height="300">
    <div data-type="menu" data-layout-info="ui.sides.top">
    
      <div data-type="menu">
        File
        <div data-type="menu">New</div>
        <div data-type="menu">Open...</div>
        <div data-type="menu">Quit</div>
      </div>
      
      <div data-type="menu">
        Edit
        <div data-type="menu" onclick="test">Cut</div>
        <div data-type="menu">Copy</div>
        <div data-type="menu">Paste</div>
      </div>
      
      <div data-type="menu">
        Test
        <div data-type="menu">Item1</div>
        <div data-type="menu">Item2</div>
        <div data-type="menu">
          Submenu
          <div data-type="menu" onclick="test">Subitem1</div>
          <div data-type="menu">Subitem2</div>
          <div data-type="menu">Subitem3</div>
          <div data-type="menu">
            Submenu2
            <div data-type="menu">Subsubitem1</div>
            <div data-type="menu">Subsubitem2</div>
          </div>
        </div>
      </div>
    </div>
    
    <div id="panel"
         data-type="panel"
         data-layout="new ui.horizontal_layout({margin: 2, expand: true})"
         data-layout-info="ui.sides.center"
         data-options="{background: ui.theme.panel_color()}">
         
      <div id="left-panel"
           data-type="panel"
           data-layout="new ui.vertical_layout({margin: 2, expand: true})">
        <div id="image" data-type="image"></div>
        <div data-type="textbox">this is a textbox</div>
        <div data-type="label">this is a label</div>
        <div data-type="button" onclick="test">this is a button</div>
        <div data-type="separator"></div>
        <div id="captioned-panel" data-type="panel">
          panel caption
          <div data-type="label">this is a label in a panel</div>
        </div>
        <div id="tooltip-label" data-type="label">this is a label with a tooltip</div>
        <div id="slider" data-type="slider" onchange="slider_changed"></div>
        <div id="slider-value" data-type="label"></div>
      </div>
      
      <div id="right-panel"
           data-type="panel">
        <div id="list"
             data-type="list"
             data-options="{expand_header: true, item_scroll: false, column_resize: 'auto'}">
        </div>
      </div>
    </div>
  </div>
</div>

</p>
<p>This will show the structure of the controls: <input type="button" value="dump" onclick="dump()" /></p>

</div>
</html>
